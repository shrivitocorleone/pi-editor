{"ast":null,"code":"var _jsxFileName = \"D:\\\\pi-editor\\\\src\\\\components\\\\ControlPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fabric } from 'fabric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ControlPanel(_ref) {\n  _s();\n  let {\n    canvas\n  } = _ref;\n  const [canvasInstance, setCanvasInstance] = useState(null);\n  useEffect(() => {\n    if (canvas) {\n      setCanvasInstance(canvas);\n    }\n  }, [canvas]);\n  const addCircle = () => {\n    var circle = new fabric.Circle({\n      radius: 50,\n      fill: 'red',\n      left: 100,\n      top: 100\n    });\n    canvasInstance.add(circle);\n  };\n  const addRectangle = () => {\n    var rectangle = new fabric.Rect({\n      width: 100,\n      height: 80,\n      fill: 'blue',\n      left: 200,\n      top: 150\n    });\n    canvasInstance.add(rectangle);\n  };\n  const addText = () => {\n    var text = new fabric.Textbox('Hello Fabric.js!', {\n      width: 200,\n      fontSize: 20,\n      left: 150,\n      top: 200\n    });\n    canvasInstance.add(text);\n  };\n  const onDelete = () => {\n    const activeObject = canvasInstance.getActiveObject();\n    if (activeObject) {\n      canvasInstance.remove(activeObject);\n    }\n  };\n  const exportImage = () => {\n    var dataURL = canvasInstance.toDataURL('image/png');\n    var link = document.createElement('a');\n    link.href = dataURL;\n    link.download = 'drawing.png';\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"control-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addCircle,\n      children: \"Add Circle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addRectangle,\n      children: \"Add Rectangle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addText,\n      children: \"Add Text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDelete,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: exportImage,\n      children: \"Export\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(ControlPanel, \"T4/HV6GUhzn2Rw9yYzB5aIzWxLk=\");\n_c = ControlPanel;\nexport default ControlPanel;\nvar _c;\n$RefreshReg$(_c, \"ControlPanel\");","map":{"version":3,"names":["React","useEffect","useState","fabric","jsxDEV","_jsxDEV","ControlPanel","_ref","_s","canvas","canvasInstance","setCanvasInstance","addCircle","circle","Circle","radius","fill","left","top","add","addRectangle","rectangle","Rect","width","height","addText","text","Textbox","fontSize","onDelete","activeObject","getActiveObject","remove","exportImage","dataURL","toDataURL","link","document","createElement","href","download","click","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/pi-editor/src/components/ControlPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nfunction ControlPanel({ canvas }) {\r\n    const [canvasInstance, setCanvasInstance] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (canvas) {\r\n            setCanvasInstance(canvas);\r\n        }\r\n    }, [canvas]);\r\n\r\n    const addCircle = () => {\r\n        var circle = new fabric.Circle({\r\n            radius: 50,\r\n            fill: 'red',\r\n            left: 100,\r\n            top: 100,\r\n        });\r\n        canvasInstance.add(circle);\r\n    };\r\n\r\n    const addRectangle = () => {\r\n        var rectangle = new fabric.Rect({\r\n            width: 100,\r\n            height: 80,\r\n            fill: 'blue',\r\n            left: 200,\r\n            top: 150,\r\n        });\r\n        canvasInstance.add(rectangle);\r\n    };\r\n\r\n    const addText = () => {\r\n        var text = new fabric.Textbox('Hello Fabric.js!', {\r\n            width: 200,\r\n            fontSize: 20,\r\n            left: 150,\r\n            top: 200,\r\n        });\r\n        canvasInstance.add(text);\r\n    };\r\n\r\n    const onDelete = () => {\r\n        const activeObject = canvasInstance.getActiveObject();\r\n        if (activeObject) {\r\n            canvasInstance.remove(activeObject);\r\n        }\r\n    };\r\n\r\n    const exportImage = () => {\r\n        var dataURL = canvasInstance.toDataURL('image/png');\r\n        var link = document.createElement('a');\r\n        link.href = dataURL;\r\n        link.download = 'drawing.png';\r\n        link.click();\r\n    };\r\n\r\n    return (\r\n        <div className=\"control-panel\">\r\n            <button onClick={addCircle}>Add Circle</button>\r\n            <button onClick={addRectangle}>Add Rectangle</button>\r\n            <button onClick={addText}>Add Text</button>\r\n            <button onClick={onDelete}>Delete</button>\r\n            <button onClick={exportImage}>Export</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ControlPanel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}