{"ast":null,"code":"var _jsxFileName = \"D:\\\\pi-editor\\\\src\\\\components\\\\ControlPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fabric } from 'fabric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ControlPanel(_ref) {\n  _s();\n  let {\n    canvas\n  } = _ref;\n  const [canvasInstance, setCanvasInstance] = useState(null);\n  useEffect(() => {\n    if (canvas) {\n      setCanvasInstance(canvas);\n    }\n  }, [canvas]);\n  const addCircle = () => {\n    if (canvasInstance) {\n      var circle = new fabric.Circle({\n        radius: 50,\n        fill: 'red',\n        left: 100,\n        top: 100\n      });\n      canvasInstance.add(circle);\n      canvasInstance.setActiveObject(circle);\n      canvasInstance.renderAll();\n    }\n  };\n  const addRectangle = () => {\n    if (canvasInstance) {\n      var rectangle = new fabric.Rect({\n        width: 100,\n        height: 80,\n        fill: 'blue',\n        left: 200,\n        top: 150\n      });\n      canvasInstance.add(rectangle);\n      canvasInstance.setActiveObject(rectangle);\n      canvasInstance.renderAll();\n    }\n  };\n  const addText = () => {\n    if (canvasInstance) {\n      var text = new fabric.Textbox('Hello Fabric.js!', {\n        width: 200,\n        fontSize: 20,\n        left: 150,\n        top: 200\n      });\n      canvasInstance.add(text);\n      canvasInstance.setActiveObject(text);\n      canvasInstance.renderAll();\n    }\n  };\n  const onDelete = () => {\n    if (canvasInstance) {\n      const activeObject = canvasInstance.getActiveObject();\n      if (activeObject) {\n        canvasInstance.remove(activeObject);\n        canvasInstance.discardActiveObject();\n        canvasInstance.renderAll();\n      }\n    }\n  };\n  const exportImage = () => {\n    if (canvasInstance) {\n      var dataURL = canvasInstance.toDataURL('image/png');\n      var link = document.createElement('a');\n      link.href = dataURL;\n      link.download = 'drawing.png';\n      link.click();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"control-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addCircle,\n      children: \"Add Circle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addRectangle,\n      children: \"Add Rectangle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addText,\n      children: \"Add Text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDelete,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: exportImage,\n      children: \"Export\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(ControlPanel, \"T4/HV6GUhzn2Rw9yYzB5aIzWxLk=\");\n_c = ControlPanel;\nexport default ControlPanel;\nvar _c;\n$RefreshReg$(_c, \"ControlPanel\");","map":{"version":3,"names":["React","useEffect","useState","fabric","jsxDEV","_jsxDEV","ControlPanel","_ref","_s","canvas","canvasInstance","setCanvasInstance","addCircle","circle","Circle","radius","fill","left","top","add","setActiveObject","renderAll","addRectangle","rectangle","Rect","width","height","addText","text","Textbox","fontSize","onDelete","activeObject","getActiveObject","remove","discardActiveObject","exportImage","dataURL","toDataURL","link","document","createElement","href","download","click","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/pi-editor/src/components/ControlPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nfunction ControlPanel({ canvas }) {\r\n  const [canvasInstance, setCanvasInstance] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (canvas) {\r\n      setCanvasInstance(canvas);\r\n    }\r\n  }, [canvas]);\r\n\r\n  const addCircle = () => {\r\n    if (canvasInstance) {\r\n      var circle = new fabric.Circle({\r\n        radius: 50,\r\n        fill: 'red',\r\n        left: 100,\r\n        top: 100,\r\n      });\r\n      canvasInstance.add(circle);\r\n      canvasInstance.setActiveObject(circle);\r\n      canvasInstance.renderAll();\r\n    }\r\n  };\r\n\r\n  const addRectangle = () => {\r\n    if (canvasInstance) {\r\n      var rectangle = new fabric.Rect({\r\n        width: 100,\r\n        height: 80,\r\n        fill: 'blue',\r\n        left: 200,\r\n        top: 150,\r\n      });\r\n      canvasInstance.add(rectangle);\r\n      canvasInstance.setActiveObject(rectangle);\r\n      canvasInstance.renderAll();\r\n    }\r\n  };\r\n\r\n  const addText = () => {\r\n    if (canvasInstance) {\r\n      var text = new fabric.Textbox('Hello Fabric.js!', {\r\n        width: 200,\r\n        fontSize: 20,\r\n        left: 150,\r\n        top: 200,\r\n      });\r\n      canvasInstance.add(text);\r\n      canvasInstance.setActiveObject(text);\r\n      canvasInstance.renderAll();\r\n    }\r\n  };\r\n\r\n  const onDelete = () => {\r\n    if (canvasInstance) {\r\n      const activeObject = canvasInstance.getActiveObject();\r\n      if (activeObject) {\r\n        canvasInstance.remove(activeObject);\r\n        canvasInstance.discardActiveObject();\r\n        canvasInstance.renderAll();\r\n      }\r\n    }\r\n  };\r\n\r\n  const exportImage = () => {\r\n    if (canvasInstance) {\r\n      var dataURL = canvasInstance.toDataURL('image/png');\r\n      var link = document.createElement('a');\r\n      link.href = dataURL;\r\n      link.download = 'drawing.png';\r\n      link.click();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"control-panel\">\r\n      <button onClick={addCircle}>Add Circle</button>\r\n      <button onClick={addRectangle}>Add Rectangle</button>\r\n      <button onClick={addText}>Add Text</button>\r\n      <button onClick={onDelete}>Delete</button>\r\n      <button onClick={exportImage}>Export</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ControlPanel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}